# CHAPTER 2 . 진화적 아키텍트
- 변화의 속도가 빨라지고 아키텍처가 수용할 수 있는 환경이 더 유연해지면서 아키텍트의 역할 또한 변화하고 있다.

## 부정확한 비교
- 아키텍트(건축가)와는 달리 아키텍트(소프트웨어 엔지니어) 는 물리적 법칙의 제약을 받지 않으며, 사용자 요구 사항에 맞춰 유연하게 적용하고 진화하도록 설계된다.

## 아키텍트에 대한 진화적 관점
- 소프트웨어는 정체되는 일 없이 고객의 요구에 맞게 반응하고 적응해야하므로 아키텍트는 처음부터 완벽한 최종 제품보다 추가 학습을 통한 지속적으로 성장할 수 있는 프레임워크를 만들어야한다.
- 아키텍트는 사용자뿐 아니라 개발자도 거주할 수 있는 시스템을 만들어야한다.

## 구역화
- 서비스 경계 또는 서비스의 대단위 그룹으로 구역화를 한다.
- 구역 사이에 발생하는 서비스간 통신 방법, 시스템 전반적인 상태를 적절히 모니터링하는 데 집중한다.

## 원칙적인 접근법 
``` 
규칙은 바보에게는 복종이지만 현자에게는 지침이다.
- 더글라스 베이더 
```
- 원칙은 10개 미만으로 쉽게 기억할 수 있게 만든다,
- [헤로쿠의 12가지 요소](http://www.12factor.net)는 다른 맥락에 적용해도 효과적이다.
- 실천 사항은 아케텍트의 원칙을 뒷받침해야하며 때때로 조직의 제약을 반영한다.
- 공통된 원칙을 지향하면서 고유의 실천 사항이 별개로 존재할 수 있다.
- 원칙을 기준으로 실천 사항은 변할 수 있다.

## 필수 기준
```
자율적인 수명주기를 가지면서도 함께 협업하는 수많은 작은 부품으로 구성된 응집력 있는 시스템이 되어야한다.
- 벤 크리스텐센 ( 넷플릭스 소프트웨어 엔지니어 )
```
- 각 서비스가 가져야할 명확한 속성을 정의해야한다.
- 서비스 간 경계를 넘어 전체 시스템 상태를 일관되게 살펴볼 수 있어야한다.
- 서비스 간 인터페이스 기술의 개수는 가능한 최소로 유지하여 새로운 서비스 통합을 할때 부담을 줄여야한다.
- 응답코드 규약을 엄격하게 지켜 안정적인 시스템을 만들어야한다.

## 코드를 통한 통제
- 문서로 기록하는 것은 바람직하며 유용하다. 
- 권장하고 싶은 일련의 표준과 모범 사례등의 본보기로 더 나은 부분을 모방하는 것은 큰 실수를 예방할 수 있다.
- 개발 실천 사항에 대한 서비스 템플릿을 맞춤화하면 팀은 더 빨라지고 개발자들도 서비스가 잘못된 행위에 빠지지않게 방어할 수 있다.
> 넷플릭스는 새로 도입된 기술에 대한 중복된 노력을 줄일수록 시스템이 잘못되기 쉽다는 사실에 주목한다. 
새로운 서비스가 시스템에 더 큰 영향을 미칠수록 장애 허용성을 잘못 구현한 새로운 서비스의 위험도 역시 커진다.
넷플릭스는 적절한 라이브러리를 사용하는 JVM꽈 로컬 통신하는 사이트카 서비스*** 를 사용함으로써 이러한 위험을 완화하였다.

## 기술 부채
- 손쉬운 방법을 택했을때 뿐만 아니라 변경된 시스템의 비전이 모든 시스템과 어울리지 않아도 기술 부채의 원인이 된다.
- 아키텍트가 큰 그림을 보고 균형을 이해야하 부채 수준과 연관성을 고찰하는 것이 중요하다.

## 예외 처리
- 충분히 많은 예외가 발견된다면 결과적으로 현실을 재인식시킬 수 있도록 원칙과 실천 사항을 변경하는 것이 타당할 수 있다. 
> 예를들어 데이터 저장소로 항상 MySQL의 사용을 명시한 실천사항이 있지만 고확장성 저장소 목적으로 카산드라를 사용할 수 밖에 없다면, 
'대규모 볼륨 증가가 예상되지 않는 대부분의 저장소 요건에는 MySQL을, 그렇지 않을 경우에는 카산드라를 사용한다'라고 실천사항을 변경할 수 있다.

## 중앙에서의 거버넌스와 지휘
- 거버넌스*** 는 우리가 구축하는 결과물이 해당 비전과 일치함을 보장하고, 필요한 경우 비전을 진화시키는 것이다.
- 아키텍트는 최신 기술을 유지하고, 올바은 트레이드오프를 결정해야한다.
- 거버넌스는 일반적으로 그룹 활동을 하고 기술전문가가 이끌어야하며, 대다수가 통제 업무를 실행하는 사람들로 구성되어 기술 위험도를 추적하고 관리할 책임이 있다.

## 팀 만들기
- 마이크로서비스는 독립적 수명주기를 가진 수많은 자육적인 코드 베이스를 가지고 개별 서비스의 소유권을 부여함으로써 자신의 경력 목표를 성취하도록 돕는다.

## 아키텍트의 핵심 책무
1. 비전
2. 공감
3. 협업
4. 적응성
5. 자율성
6. 거버넌스
- 마이크로서비스는 아키텍트에게 더 많은 의사 결정을 제공한다. 모든 트레이드오프에서 균형을 잘 잡는것이 중요하다.


--- 
```
*** 사이드카 서비스 : 오토바이 옆에 부착되는 것처엄 부모 서비스에 부착되어 별도 프로세스로 동작하다.
서비스 검색, 동적 구성, 회복력 있는 서비스 간 통신과 같은 플랫폼 인프라트럭처 기능을 동일한 인터페이스를 통해 JVM기반이 아닌 서비스에도 제공할 수 있다. 
*** 거버넌스 : 기업의 목적이 이해관계자의 요구, 조건, 선택을 평가함으로써 달성될 수 있음을 보장한다. 
우선순위 및 의사 결정을 통해 방향을 설정하고, 합의된 방향과 목표에 대한 성과, 준수, 과정을 모니터링한다. - _COBIT5

```



