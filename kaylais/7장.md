# 7.테스팅  

세분화된 시스템의 테스팅과 관련된 문제를 해결하고, 새로운 기능을 자신있게 릴리스 할 수 있는 해결책을 알아본다  

-  performance test  
- unit test  
- UI end-to-end test

## Unit Test  
일반적으로 단일 함수 또는 메서드 호출을 테스트하는 것  
**기능의 정상 동작 유무에 대한 매우 빠른 피드백**  
코드를 재구성하게 해주며, 작은 범위의 테스트들이 우리의 실수를 잡아주기 때문에  
코드의 리팩토링을 지원하는 데 있어 중요  
문제를 신속히 발견하고 해결하기 위해 테스트를 더욱 격리하기 위함  
격리를 위해 모든 외부 협업자를 스텁으로 만들어 오직 서비스 자체의 범위만으로 제한  

## End-to-end Test 
이 테스트에서 그 스텁에 반복해서 요청하는 것은 상관하지 않음  
테스트의 변형은 스텁 대신 목(mock)을 사용하는 것. 
fake, spy, dummy와 같은 용어를 남용할 때 더욱 혼란 스러움  
마틴 파울러는 스텁과 목을 포함한 이 모든 것을 test double이라고 부름  
 
## 신뢰할 수 없고 취약한 테스트  
테스트에서 비결정적 요소 근절하기. 
신뢰할 수 없는 테스트가 있다면 그것을 찾아내고, 즉시 해결할 수 없다면 테스트 집합에서 제거하여 치료하는 방식을 강조  
- 여러 스레드에서 수행되는 테스팅 코드를 피하기 위해 테스트를 재작성할 수 있는지 살펴 보라   
- 하부 환경을 더욱 안정적으로 만들 수 있는지 살표 보라  
- 신뢰할 수 없는 테스트를 문제 가능성이 낮은 작은 범위의 테스트로 교체할 수 있는지 살펴 보라  

## 테스트 작성 전담 팀은 재앙  
소프트웨어를 개발하는 팀은 그들의 코드에 대한 테스트와 점차 멀어지고  
서비스 소유자들은 방금 개발한 기능의 End-to-end 테스트를 테스트 팀이 작성할 때까지 기다려야 하므로 주기 시간이 증가함  
다른 팀에 이 테스트를 작성하기 때문에 서비스를 개발했던 팀은 덜 참여하게 되고 이들 테스트를 어떻게 고치는지 모르기 쉬움  
개발팀이 처음 작성한 코드의 테스트를 작성하는 것에서 멀어질 때마다 상당한 피해가 발생  


---
**TDD(Test Driven Design)**   
매우 짧은 개발 사이클을 반복하는 소프트웨어 개발 프로세스 중 하나이다.  
개발자는 먼저 요구사항을 검증하는 자동화된 테스트 케이스를 작성한다.  
그런 후에, 그 테스트 케이스를 통과하기 위한 최소한의 코드를 생성한다.  
마지막으로 작성한 코드를 표준에 맞도록 리팩토링한다.  
이 기법을 개발했거나 '재발견' 한 것으로 인정되는 Kent Beck은 2003년에 TDD가 단순한 설계를 장려하고 자신감을 불어넣어준다고 말하였다. (출처: 위키백과)  

**Stub**  
테스트 중인 시스템의 외부 의존성이나 협업자를 대체하는 모의 구현  
다른 컴포넌트와의 로직을 독립적으로 검증하게 함  

**Anti pattern**  
실제 많이 사용되는 소프트웨어 패턴이지만 비효율적이거나 비생산적인 패턴  

**test double**  
테스팅 목적으로 실제 컴포넌트나 객체를 대신하는 것을 총칭  
마틴 파울러의 글에서 더미 객체, 각짜 객체, 스텁 스파이, 목에 대해 설명하고 있음   

**Selenium Grid**  
2008년 소트워크스의 필립 핸리고가 허브를 통해 다수의 노드를 제어하여 병렬 테스트가 가능하도록 셀레니움의 기능을 확장한 것  

